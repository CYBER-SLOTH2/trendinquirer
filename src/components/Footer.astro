---
import type { HTMLAttributes } from "astro/types";

const currentYear = new Date().getFullYear();

type Props = {
  noMarginTop?: boolean;
} & HTMLAttributes<"footer">;

const { noMarginTop = false, class: className, ...attrs } = Astro.props;
---

<footer
  class:list={["app-layout bg-background/50 text-sm", { "mt-auto": !noMarginTop }, className]}
  {...attrs}
>
  <div class="py-10 border-t border-border">
    <div class="max-w-screen-xl mx-auto px-4 grid grid-cols-1 md:grid-cols-12 gap-8 items-start">
      <div class="md:col-span-5">
        <a href="/" class="inline-flex items-center gap-3" aria-label="TrendInquirer home">
          <svg viewBox="0 0 400 80" fill="none" aria-hidden="true" class="flex-shrink-0 svg-responsive" role="img" aria-label="TrendInquirer logo">
            <defs>
              <linearGradient id="g2" x1="0" x2="1" y1="0" y2="0">
                <stop offset="0%" stop-color="#06b6d4" />
                <stop offset="100%" stop-color="#7c3aed" />
              </linearGradient>
            </defs>
            <rect x="8" y="8" width="64" height="64" rx="12" fill="url(#g2)" />
            <path d="M30 22 L44 38" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
            <circle cx="32" cy="44" r="6" fill="#fff" />
          </svg>
          <div>
            <div class="font-semibold">TrendInquirer</div>
          </div>
        </a>
      </div>

      <div class="md:col-span-4">
        <h4 class="font-semibold mb-2">Legal</h4>
        <ul class="space-y-2">
          <li><a href="/about/">About</a></li>
          <li><a href="/privacy/">Privacy</a></li>
          <li><a href="/terms/">Terms</a></li>
          <li><a href="/rss.xml">RSS</a></li>
        </ul>
      </div>

      <div class="md:col-span-3">
        <h4 class="font-semibold mb-2">Stay informed</h4>
        <p class="mb-3">Subscribe to short, weekly updates — no spam. We send one concise newsletter per week.</p>
        <form action="#" method="post" class="flex gap-2" aria-label="Subscribe to TrendInquirer newsletter">
          <input aria-label="Email address" name="email" type="email" placeholder="you@example.com" required class="flex-1 rounded border border-border px-3 py-2 bg-white/5 text-foreground focus:outline-none" />
          <button class="rounded px-3 py-2 bg-accent text-white hover:opacity-95" type="submit">Subscribe</button>
        </form>

        <div class="mt-4 text-xs">Contact: <a href="mailto:editor@trendinquirer.com" class="underline">editor@trendinquirer.com</a></div>
        <div class="mt-2 text-xs">© {currentYear} TrendInquirer. All rights reserved.</div>
      </div>
    </div>
  </div>
</footer>
